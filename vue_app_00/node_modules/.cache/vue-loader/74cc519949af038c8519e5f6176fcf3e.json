{"remainingRequest":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\src\\components\\home\\shopCart.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\src\\components\\home\\shopCart.vue","mtime":1554014439881},{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"d:\\Web前端\\正课课件\\项目\\我的项目\\xiaomi\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n #app-shopCart>div>div:first-child{\n     justify-content: flex-start;\n }\n #app-shopCart>div>div:first-child>input{\n     width:20px;\n     height:20px;\n }\n #shopCar .shop-top,#shopCar .shop-bottom{\n     display: flex;\n     align-items:center;\n     justify-content: space-between; \n }\n \n #shopCar .shop-top>input{\n     width:20px;\n     height:20px;    \n     line-height: 100px;\n }\n #shopCar>.shop-top{ \n     height:100px       \n }\n #shopCar>.shop-bottom{\n     height:40px;\n     border-top:1px solid #D9D8DC;\n }\n#shopCar button{\n     width:40px;\n     height:30px;\n }\n #shopCar input{\n     width:50px;\n     height:30px;\n }\n   #shopCar .shop-top .pic {\n       width: 80px;\n       height:80px;\n   }\n   #shopCar .shop-top .pic img{\n       width:100%;\n       height:100%;\n   }\n   #shopCar .shop-bottom button{\n       width:60px;\n   }\n   #shopCar .shop-top .type{\n       font-size: 15px;\n   }\n    #shopCar .shop-top .pri{\n        font-size: 15px;\n    }\n    #app-shopCart .mui-card-content-inner{\n        padding-bottom: 0;\n    }\n",{"version":3,"sources":["shopCart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shopCart.vue","sourceRoot":"src\\components\\home","sourcesContent":["<template>\r\n    <div id=\"app-shopCart\">\r\n        <div class=\"mui-card\">\r\n\t\t\t<div class=\"mui-card-header\">\r\n                <span>全选</span><input type=\"checkbox\" @click=\"addAll\" :checked=\"allcb\">\r\n            </div>\r\n\t\t\t<div class=\"mui-card-content\" v-for=\"(item,i) of list\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"mui-card-content-inner\">\r\n                    <div id=\"shopCar\">\r\n                         <div class=\"shop-top\" >\r\n                            <input type=\"checkbox\" :checked=\"item.cb\" :data-i=\"i\" @click=\"modifyItem\">\r\n                            <div class=\"pic\">\r\n                                <img :src=\"item.picture\" >\r\n                            </div>\r\n                            <div style=\"width:80px\">\r\n                                <div class=\"type\">{{item.typeA}}</div>\r\n                                <div class=\"pri\">{{item.price}}元</div>\r\n                            </div>\r\n                            <div>\r\n                                <button @click=\"redu\" :data-id=\"item.id\">-</button>\r\n                                <input type=\"text\" :value=\"item.count\">\r\n                                <button @click=\"add\" :data-id=\"item.id\">+</button>\r\n                            </div>\r\n                        </div>  \r\n                        <div class=\"shop-bottom\">\r\n                            <div>小计：{{item.count*item.price}}元</div>\r\n                            <button @click=\"del\"  :data-id=\"item.id\" :data-i=\"i\">删除</button>\r\n                        </div>   \r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"mui-card-footer\">\r\n                <span>总计：{{sum}}元</span>\r\n                <button @click=\"delItem\">删除选中的商品</button>\r\n            </div>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {Toast} from \"mint-ui\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            list:[],\r\n            allcb:false,\r\n            sum:0\r\n        }\r\n    },\r\n    methods:{\r\n        getShop(){\r\n            var url=\"http://127.0.0.1:3000/user/cartlist\";\r\n            this.axios.get(url).then(res=>{\r\n                var rows=res.data.data;\r\n                this.$store.commit(\"updateCount\",rows.length)\r\n                for(var item of rows){\r\n                    item.cb=false;\r\n                }\r\n                this.list=rows;\r\n            })\r\n        },\r\n        addAll(e){\r\n            var cb=e.target.checked;\r\n            this.allcb=cb;\r\n                for(var item of this.list){\r\n                    item.cb=cb\r\n                }\r\n        },\r\n        modifyItem(e){\r\n            var i=e.target.dataset.i;\r\n            var checked=e.target.checked;\r\n            this.list[i].cb=checked;\r\n            var count=0;\r\n            for(var item of this.list){\r\n                if(item.cb){\r\n                    count++;\r\n                } \r\n            }\r\n            if(count==this.list.length){\r\n                this.allcb=true;\r\n            }else{\r\n                this.allcb=false;\r\n            }\r\n        },\r\n        add(e){\r\n            var id = e.target.dataset.id\r\n            for(var key of this.list){\r\n                if(key.id == id){\r\n                   key.count++;\r\n                   return ; \r\n                }\r\n            }       \r\n        },\r\n        redu(e){\r\n            var id = e.target.dataset.id\r\n            console.log(id)\r\n            for(var key of this.list){\r\n                if(key.id == id){\r\n                    if(key.count>1){\r\n                        key.count--;\r\n                        return ;\r\n                    }   \r\n                }\r\n            }\r\n        },\r\n        del(e){\r\n            var id=e.target.dataset.id;\r\n            var i=e.target.dataset.i;\r\n            console.log(id);\r\n            var url=\"http://127.0.0.1:3000/user/delShop?id=\"+id;\r\n            this.axios.get(url).then(res=>{\r\n                if(res.data.code==1){\r\n                    this.list.splice(i,1);\r\n                }\r\n            })\r\n        },\r\n        delItem(){\r\n            var html=\"\";\r\n            for(var item of this.list){\r\n                if(item.cb){\r\n                    html+=item.id+\",\";\r\n                }\r\n            }\r\n            html=html.substring(0,html.length-1);\r\n            var url=\"http://127.0.0.1:3000/user/delMitem?ids=\"+html;\r\n            this.axios.get(url).then(res=>{\r\n                if(res.data.code==1){\r\n                    Toast(\"删除成功\"),\r\n                    this.getShop()\r\n                }\r\n            })\r\n        },\r\n    },\r\n    created(){\r\n        this.getShop();\r\n        \r\n    },\r\n}\r\n</script>\r\n<style>\r\n    #app-shopCart>div>div:first-child{\r\n        justify-content: flex-start;\r\n    }\r\n    #app-shopCart>div>div:first-child>input{\r\n        width:20px;\r\n        height:20px;\r\n    }\r\n    #shopCar .shop-top,#shopCar .shop-bottom{\r\n        display: flex;\r\n        align-items:center;\r\n        justify-content: space-between; \r\n    }\r\n    \r\n    #shopCar .shop-top>input{\r\n        width:20px;\r\n        height:20px;    \r\n        line-height: 100px;\r\n    }\r\n    #shopCar>.shop-top{ \r\n        height:100px       \r\n    }\r\n    #shopCar>.shop-bottom{\r\n        height:40px;\r\n        border-top:1px solid #D9D8DC;\r\n    }\r\n   #shopCar button{\r\n        width:40px;\r\n        height:30px;\r\n    }\r\n    #shopCar input{\r\n        width:50px;\r\n        height:30px;\r\n    }\r\n      #shopCar .shop-top .pic {\r\n          width: 80px;\r\n          height:80px;\r\n      }\r\n      #shopCar .shop-top .pic img{\r\n          width:100%;\r\n          height:100%;\r\n      }\r\n      #shopCar .shop-bottom button{\r\n          width:60px;\r\n      }\r\n      #shopCar .shop-top .type{\r\n          font-size: 15px;\r\n      }\r\n       #shopCar .shop-top .pri{\r\n           font-size: 15px;\r\n       }\r\n       #app-shopCart .mui-card-content-inner{\r\n           padding-bottom: 0;\r\n       }\r\n</style>\r\n\r\n"]}]}